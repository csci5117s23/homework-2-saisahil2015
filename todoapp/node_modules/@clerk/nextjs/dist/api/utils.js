"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.runMiddleware = void 0;
// https://nextjs.org/docs/api-routes/api-middlewares#connectexpress-middleware-support
function runMiddleware(req, res, fn) {
    return new Promise((resolve, reject) => {
        // @ts-ignore
        void fn(req, res, result => {
            if (result instanceof Error) {
                return reject(result);
            }
            return resolve(result);
        });
    });
}
exports.runMiddleware = runMiddleware;
